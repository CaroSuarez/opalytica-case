(this["webpackJsonpopalytica-case"]=this["webpackJsonpopalytica-case"]||[]).push([[0],{22:function(e,t,n){},26:function(e,t,n){},36:function(e,t,n){},41:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(3),o=n.n(a),r=n(28),s=n.n(r),i=n(14),l=n(8),d=(n(36),function(e){var t=e.children,n=e.buttonClass,a=e.linkClass,o=e.linkTo;return Object(c.jsx)(i.b,{className:a,to:o,children:Object(c.jsx)("button",{className:n,children:t})})}),j=(n(26),function(){return Object(c.jsx)(a.Fragment,{children:Object(c.jsxs)("div",{className:"containerLogin",children:[Object(c.jsxs)("div",{className:"plasticosLA",children:[" ",Object(c.jsx)("h1",{children:" PL\xc1STICOS LA "})]}),Object(c.jsx)("input",{type:"text",placeholder:"Usuario"}),Object(c.jsx)("input",{type:"password",placeholder:"Contrase\xf1a"}),Object(c.jsx)(d,{buttonClass:"loginButton",linkClass:"linkLogin",linkTo:"/opciones",children:"ENTRAR"}),Object(c.jsxs)("div",{className:"register",children:[" ",Object(c.jsx)("h1",{children:"  REGISTRARSE "})]})]})})}),u=(n(41),function(){return Object(c.jsx)(a.Fragment,{children:Object(c.jsxs)("div",{className:"containerOptions",children:[Object(c.jsx)("div",{className:"plasticosLAOptions",children:Object(c.jsx)("h1",{children:" PL\xc1STICOS LA "})}),Object(c.jsxs)("div",{className:"optionsButtonsContainer",children:[Object(c.jsx)(d,{buttonClass:"optionButton",linkClass:"linkOptions",linkTo:"/crear-nueva-orden",children:"CREAR NUEVA ORDEN"}),Object(c.jsx)(d,{buttonClass:"optionButton",linkClass:"linkOptions",linkTo:"/rastrear-ordenes",children:"RASTREAR \xd3RDENES"}),Object(c.jsx)(d,{buttonClass:"loginButton",linkClass:"linkLogin",linkTo:"/login",children:"SALIR"})]})]})})}),b=n(17),p=n(30).a.initializeApp({apiKey:"AIzaSyBLHQWBxRX3bKydGtPS-LJmBkJYt6Iqd-8",authDomain:"opalytica-case.firebaseapp.com",projectId:"opalytica-case",storageBucket:"opalytica-case.appspot.com",messagingSenderId:"290070834675",appId:"1:290070834675:web:b3c4ae7d37a24d854e3686"}).firestore(),O=(n(45),function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),s=Object(b.a)(r,2),l=s[0],d=s[1],j=Object(a.useState)(""),u=Object(b.a)(j,2),O=u[0],h=u[1];return Object(c.jsx)(a.Fragment,{children:Object(c.jsxs)("form",{className:"newOrderForm",children:[Object(c.jsx)("input",{name:"clientID",type:"text",placeholder:"Id Cliente",value:n,onChange:function(e){return o(e.target.value)}}),Object(c.jsx)("input",{name:"clientName",placeholder:"Nombre Cliente",value:l,onChange:function(e){return d(e.target.value)}}),Object(c.jsx)("input",{name:"numberOfBottles",type:"number",placeholder:"Cantidad de Botellas",value:O,onChange:function(e){return h(e.target.value)}}),Object(c.jsxs)("div",{className:"formButtonsContainer",children:[Object(c.jsx)(i.b,{className:"cancelLinkForm",to:"/opciones",children:Object(c.jsx)("button",{className:"cancelButtonForm",children:"CANCEL"})}),Object(c.jsx)("button",{id:"formSubmitButton",type:"submit",onClick:function(e){return t=n,c=l,a=O,e.preventDefault(),void p.collection("orders").doc().set({clientId:t,clientName:c,numberOfBottles:a,startOrderDate:(new Date).toLocaleString("es-CO"),stage:"Pendiente"}).then((function(){o(""),d(""),h("")})).catch((function(e){console.error("Error writing document: ",e)}));var t,c,a},children:"ENVIAR"})]})]})})}),h=(n(46),function(){return Object(c.jsx)(a.Fragment,{children:Object(c.jsxs)("div",{className:"contanerCreateNewOrders",children:[Object(c.jsxs)("div",{className:"plasticosLA",children:[" ",Object(c.jsx)("h1",{children:" PL\xc1STICOS LA "})]}),Object(c.jsx)("div",{className:"createNewOrderText",children:Object(c.jsx)("p",{children:"Ingrese la informaci\xf3n a continuaci\xf3n para crear una nueva orden"})}),Object(c.jsx)(O,{})]})})}),m=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){p.collection("orders").onSnapshot((function(e){var t=e.docs.map((function(e){return{orderId:e.id,data:e.data()}}));c(t)}))}),[]),n},x=function(e){console.log(e.orderStage),console.log(e.identifier);return"Pendiente"==e.orderStage?Object(c.jsx)("button",{className:"actionButton",onClick:function(){return t=e.identifier,e.orderStage,n="En producci\xf3n: Etapas 1 y 2",void p.collection("orders").doc(t).update({stage:n,production_starts_date:(new Date).toLocaleString("es-CO")}).then((function(){console.log("updated the state to"+n)}));var t,n},children:"Empezar Producci\xf3n"}):"En producci\xf3n: Etapas 1 y 2"==e.orderStage?Object(c.jsx)("button",{className:"actionButton",onClick:function(){return t=e.identifier,e.orderStage,n="En producci\xf3n: Etapa 3",void p.collection("orders").doc(t).update({stage:n,etapa3_starts_date:(new Date).toLocaleString("es-CO")}).then((function(){console.log("updated the state to"+n)}));var t,n},children:"Entrar a Etapa 3"}):"En producci\xf3n: Etapa 3"==e.orderStage?Object(c.jsx)("button",{className:"actionButton",onClick:function(){return t=e.identifier,e.orderStage,n="Finalizado",void p.collection("orders").doc(t).update({stage:n,completed_production_date:(new Date).toLocaleString("es-CO")}).then((function(){console.log("updated the state to"+n)}));var t,n},children:"Finalizar"}):"Finalizado"==e.orderStage?Object(c.jsx)("button",{className:"noneButton"}):void 0},g=(n(22),function(e){var t,n=e.id,a=e.name,o=e.stage;return"Pendiente"==o&&(t="#EF1010"),"En producci\xf3n: Etapas 1 y 2"==o&&(t="#ECF015"),"En producci\xf3n: Etapa 3"==o&&(t="#ECF015"),"Finalizado"==o&&(t="#22AA16"),Object(c.jsxs)("li",{className:"orderItem",children:[Object(c.jsxs)("div",{className:"orderDiv",style:{backgroundColor:t},children:[" ",Object(c.jsxs)("span",{style:{backgroundColor:t},children:[" ",n," "]}),Object(c.jsxs)("span",{style:{backgroundColor:t},children:[" ",a]}),Object(c.jsxs)("span",{style:{backgroundColor:t},children:[" ",o,"  "]})]}),Object(c.jsx)(x,{orderStage:o,identifier:n})]})}),f=function(){var e=m();return console.log(e),Object(c.jsx)(a.Fragment,{children:Object(c.jsx)("ul",{className:"ulOrdersList",children:e.map((function(e){return Object(c.jsx)(g,{id:e.orderId,name:e.data.clientName,stage:e.data.stage},e.orderId)}))})})},v=function(){return Object(c.jsx)(a.Fragment,{children:Object(c.jsxs)("div",{className:"containerTrackOrders",children:[Object(c.jsx)("div",{className:"plasticosLAOptions",children:Object(c.jsx)("h1",{children:" PL\xc1STICOS LA "})}),Object(c.jsx)(f,{}),Object(c.jsx)(d,{buttonClass:"volverButton",linkClass:"linkVolver",linkTo:"/opciones",children:"Volver"})]})})};var C=function(){return Object(c.jsx)(i.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/crear-nueva-orden",component:h}),Object(c.jsx)(l.a,{path:"/rastrear-ordenes",component:v}),Object(c.jsx)(l.a,{path:"/opciones",component:u}),Object(c.jsx)(l.a,{path:"/login",component:j}),Object(c.jsx)(l.a,{exact:!0,path:"/",component:j})]})})};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.8ddff1b9.chunk.js.map